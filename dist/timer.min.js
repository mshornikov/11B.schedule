"use strict";function zero_first_format(e){return e<10&&(e="0"+e),e}function getWeekDay(e){return[sunday,monday,tuesday,wednesday,thursday,friday,saturday][e.getDay()]}function getDayNumber(e){return dayNumber=week[week.indexOf(e)]}function timeToSeconds(e,t,s,n){return 24*week.indexOf(n)*3600+3600*e+60*t+s}function secondsToTime(e,t){return"seconds"==t?zero_first_format(~~(e%3600%60)).toString():"minutes"==t?zero_first_format(~~(e%3600/60)).toString():"hours"==t?(~~(e/24%3600*24/3600)).toString():"long"==t?0==~~(e/24%3600*24/3600)?~~(e%3600/60).toString()+":"+zero_first_format(~~(e%3600%60)).toString():(~~(e/24%3600*24/3600)+24*~~(e/24/3600)).toString()+":"+zero_first_format(~~(e%3600/60)).toString()+":"+zero_first_format(~~(e%3600%60)).toString():"short"==t?~~(e%3600/60).toString()+":"+zero_first_format(~~(e%3600%60)).toString():void 0}function whatLessonNow(){var e=new Date,t=e.getHours(),s=e.getMinutes(),n=e.getSeconds(),o=getWeekDay(e,week),r=timeToSeconds(t,s,n,o);if(o==saturday|o==sunday)return"Сегодня выходной<br>До уроков: "+estTime("weekend");for(i in o.get_lessons()){if(r>=o.get_lessons()[i].get_startTime().get_time()&r<o.get_lessons()[i].get_endTime().get_time())return"Сейчас: "+o.get_lessons()[i].get_name()+"<br> Осталось "+estTime("lesson");if(r+1200>=o.get_lessons()[i].get_startTime().get_time())var g=o.get_lessons()[i].get_name()}return r>=o.get_lessons()[o.get_lessons().length-1].get_endTime().get_time()?"Уроки уже закончились<br>До уроков: "+estTime("weekend"):r+1<=o.get_lessons()[0].get_startTime().get_time()?"Уроки ещё не начались. <br>Первый урок: "+o.get_lessons()[0].get_name()+"<br>До урока: "+estTime("weekend"):"Перемена. Cледующий урок: "+g+"<br>До урока "+estTime("break")}function whatLesson(){for(var e=new Date,t=e.getHours(),s=e.getMinutes(),n=e.getSeconds(),i=getWeekDay(e,week),o=timeToSeconds(t,s,n,i),r=0;r<i.get_lessons().length;r++)if(o>=i.get_lessons()[r].get_startTime().get_time()&o<i.get_lessons()[r].get_endTime().get_time())return i.get_lessons()[r]}for(i in document.getElementById("current_status").innerHTML=whatLessonNow(),setInterval(function(){document.getElementById("current_status").innerHTML=whatLessonNow()},1e3),document.write('<div class="container">'),document.write('<div class="week">'),week)if(0!=i&1!=i){for(x in document.write('<article class="day">'),document.write('<section class="day-header">',week[i].get_dayName(),"</section>"),week[i].get_lessons())document.write('<section class="lesson-line">'),document.write('<section class="lesson-start-time">',week[i].get_lessons()[x].get_startTime().get_hours(),":",zero_first_format(week[i].get_lessons()[x].get_startTime().get_minutes()),"</section>"),document.write('<section class="lesson-column">'),document.write('<section class="lesson-name">',week[i].get_lessons()[x].get_name(),"</section>"),document.write('<section class="lesson-end-time">',week[i].get_lessons()[x].get_endTime().get_hours(),":",zero_first_format(week[i].get_lessons()[x].get_endTime().get_minutes()),"</section>"),document.write("</section>"),document.write("</section>");document.write("</article>")}function nextLesson(){var e=new Date,t=e.getHours(),s=e.getMinutes(),n=e.getSeconds(),i=getWeekDay(e,week),o=timeToSeconds(t,s,n,i);if(i==saturday)return week[week.indexOf(i)+2].get_lessons()[0];if(i==sunday)return week[week.indexOf(i)+1].get_lessons()[0];if(o>=i.get_lessons()[i.get_lessons().length-1].get_endTime().get_time())return week[week.indexOf(i)+1].get_lessons()[0];if(o<=i.get_lessons()[0].get_startTime().get_time())return i.get_lessons()[0];for(var r=0;r<i.get_lessons().length;r++){if(o>=i.get_lessons()[r].get_startTime().get_time()&o<=i.get_lessons()[r].get_endTime().get_time())return i.get_lessons()[r+1];if(o+1200>=i.get_lessons()[r].get_startTime().get_time())var g=i.get_lessons()[r]}return g}function estTime(e){var t=new Date,s=timeToSeconds(t.getHours(),t.getMinutes(),t.getSeconds(),getWeekDay(t,week));return"break"==e?secondsToTime(nextLesson().get_startTime().get_time()-s,"short"):"lesson"==e?secondsToTime(whatLesson().get_endTime().get_time()-s,"short"):"weekend"==e?secondsToTime(nextLesson().get_startTime().get_time()-s,"long"):void 0}document.write("</div>"),document.write("</div>");
//# sourceMappingURL=timer.min.js.map
