"use strict";function whatLessonNow(e){var t=my_getWeekDay(currentDate(e));if(t==saturday|t==sunday)return"weekend";for(i in t.get_lessons()){var n=t.get_lessons()[i];if(e>=n.get_startTime().get_time()&e<=n.get_endTime().get_time())return n}return e>=t.get_lessons()[t.get_lessons().length-1].get_endTime().get_time()?"after":e+1<=t.get_lessons()[0].get_startTime().get_time()?"before":"break"}function currentStatus(e,t){"[object Object]"==toString.call(e)&&(document.getElementById("current_subtitle").innerHTML="Сейчас",document.getElementById("current_status").innerHTML=e.get_name(),document.getElementById("current_time_name").innerHTML="Осталось",document.getElementById("current_time").innerHTML=estTime("lesson",t),document.getElementById("week").style.margin="110px 0 0 0"),"break"==e&&(document.getElementById("current_subtitle").innerHTML="Сейчас",document.getElementById("current_status").innerHTML="Перемена",document.getElementById("current_time_name").innerHTML="До "+nextLesson(t).get_additionalName(),document.getElementById("current_time").innerHTML=estTime("break",t),document.getElementById("week").style.margin="120px 0 0 0"),"before"==e&&(document.getElementById("current_subtitle").innerHTML="Сейчас",document.getElementById("current_status").innerHTML="Уроки ещё не начались",document.getElementById("current_time_name").innerHTML="До "+nextLesson(t).get_additionalName(),document.getElementById("current_time").innerHTML=estTime("before",t),document.getElementById("week").style.margin="150px 0 0 0"),"after"==e&&(document.getElementById("current_subtitle").innerHTML="Сейчас",document.getElementById("current_status").innerHTML="Уроки уже закончились",document.getElementById("current_time_name").innerHTML="До "+nextLesson(t).get_additionalName(),document.getElementById("current_time").innerHTML=estTime("after",t),document.getElementById("week").style.margin="150px 0 0 0"),"weekend"==e&&(document.getElementById("current_subtitle").innerHTML="Сегодня",document.getElementById("current_status").innerHTML="Выходной",document.getElementById("current_time_name").innerHTML="До уроков:",document.getElementById("current_time").innerHTML=estTime("before",t).toString(),document.getElementById("week").style.margin="120px 0 0 0")}function nextLesson(e){var t=my_getWeekDay(currentDate(e)),n=getDayNumber(t);if(t==saturday)return week[n+2].get_lessons()[0];if(t==sunday)return week[n+1].get_lessons()[0];if(e>=t.get_lessons()[t.get_lessons().length-1].get_endTime().get_time())return t==friday?week[2].get_lessons()[0]:week[n+1].get_lessons()[0];if(e<=t.get_lessons()[0].get_startTime().get_time())return t.get_lessons()[0];for(var r=0;r<t.get_lessons().length;r++){var s=t.get_lessons()[r];if(e>=s.get_startTime().get_time()&e<=s.get_endTime().get_time())return t==friday&s==t.get_lessons(t.get_lessonAmount()-1)?weel[0].get_lessons()[0]:t.get_lessons()[r+1];if(e+1200>=s.get_startTime().get_time())var m=s}return m}function estTime(e,t){var n=my_getWeekDay(currentDate(t));if("break"==e){var r=nextLesson(t).get_startTime().get_time();return secondsToTime(r-t,"short")}if("lesson"==e){var s=whatLessonNow(t).get_endTime().get_time();return secondsToTime(s-t,"short")}if("before"==e){var m=nextLesson(t).get_startTime().get_time();return secondsToTime(m-t,"long")}if("after"==e){var i=nextLesson(t).get_startTime().get_time();return n==friday?secondsToTime(i+timeToSeconds(24,0,0,friday)-t,"long"):secondsToTime(i-t,"long")}}var time=currentTime();currentStatus(whatLessonNow(time),time),setInterval(function(){var e=currentTime();currentStatus(whatLessonNow(e),e)},1e3);
//# sourceMappingURL=timer.min.js.map
