"use strict";function zero_first_format(e){return e<10&&(e="0"+e),e}function getWeekDay(e){return[sunday,monday,tuesday,wednesday,thursday,friday,saturday][e.getDay()]}function getDayNumber(e){return dayNumber=week[week.indexOf(e)]}function timeToSeconds(e,t,s,n){return 24*week.indexOf(n)*3600+3600*e+60*t+s}function secondsToTime(e,t){return"seconds"==t?zero_first_format(~~(e%3600%60)).toString():"minutes"==t?zero_first_format(~~(e%3600/60)).toString():"hours"==t?(~~(e/24%3600*24/3600)).toString():"long"==t?0==~~(e/24%3600*24/3600)?~~(e%3600/60).toString()+":"+zero_first_format(~~(e%3600%60)).toString():(~~(e/24%3600*24/3600)+~~(e/24/3600)).toString()+":"+zero_first_format(~~(e%3600/60)).toString()+":"+zero_first_format(~~(e%3600%60)).toString():"short"==t?~~(e%3600/60).toString()+":"+zero_first_format(~~(e%3600%60)).toString():void 0}function whatLessonNow(){var e=new Date,t=e.getHours(),s=e.getMinutes(),n=e.getSeconds(),o=getWeekDay(e,week),r=timeToSeconds(t,s,n,o);if(o==saturday|o==sunday)return"Сегодня выходной<br>До уроков: "+estTime("weekend");for(i in o.get_lessons()){if(r>=o.get_lessons()[i].get_startTime().get_time()&r<o.get_lessons()[i].get_endTime().get_time())return"Сейчас: "+o.get_lessons()[i].get_name()+"<br> Осталось "+estTime("lesson");if(r+1200>=o.get_lessons()[i].get_startTime().get_time())var g=o.get_lessons()[i].get_name()}return r>=o.get_lessons()[o.get_lessons().length-1].get_endTime().get_time()?"Уроки уже закончились<br>До уроков: "+estTime("weekend"):r+1<=o.get_lessons()[0].get_startTime().get_time()?"Уроки ещё не начались. <br>Первый урок: "+o.get_lessons()[0].get_name()+"<br>До урока: "+estTime("weekend"):"Перемена. Cледующий урок: "+g+"<br>До урока "+estTime("break")}function whatLesson(){for(var e=new Date,t=e.getHours(),s=e.getMinutes(),n=e.getSeconds(),o=getWeekDay(e,week),r=timeToSeconds(t,s,n,o),i=0;i<o.get_lessons().length;i++)if(r>=o.get_lessons()[i].get_startTime().get_time()&r<o.get_lessons()[i].get_endTime().get_time())return o.get_lessons()[i]}function nextLesson(){var e=new Date,t=e.getHours(),s=e.getMinutes(),n=e.getSeconds(),o=getWeekDay(e,week),r=timeToSeconds(t,s,n,o);if(o==saturday)return week[week.indexOf(o)+2].get_lessons()[0];if(o==sunday)return week[week.indexOf(o)+1].get_lessons()[0];if(r>=o.get_lessons()[o.get_lessons().length-1].get_endTime().get_time())return week[week.indexOf(o)+1].get_lessons()[0];if(r<=o.get_lessons()[0].get_startTime().get_time())return o.get_lessons()[0];for(var i=0;i<o.get_lessons().length;i++){if(r>=o.get_lessons()[i].get_startTime().get_time()&r<=o.get_lessons()[i].get_endTime().get_time())return o.get_lessons()[i+1];if(r+1200>=o.get_lessons()[i].get_startTime().get_time())var g=o.get_lessons()[i]}return g}function estTime(e){var t=new Date,s=timeToSeconds(t.getHours(),t.getMinutes(),t.getSeconds(),getWeekDay(t,week));return"break"==e?secondsToTime(nextLesson().get_startTime().get_time()-s,"short"):"lesson"==e?secondsToTime(whatLesson().get_endTime().get_time()-s,"short"):"weekend"==e?secondsToTime(nextLesson().get_startTime().get_time()-s,"long"):void 0}document.getElementById("current_status").innerHTML=whatLessonNow(),setInterval(function(){document.getElementById("current_status").innerHTML=whatLessonNow()},1e3);
//# sourceMappingURL=timer.min.js.map
