"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,s){return n&&_defineProperties(e.prototype,n),s&&_defineProperties(e,s),e}var Time=function(){function i(e,n,s,t){_classCallCheck(this,i),this.hours=e,this.minutes=n,this.seconds=s,this.dayNumber=t}return _createClass(i,[{key:"get_hours",value:function(){return this.hours}},{key:"get_minutes",value:function(){return this.minutes}},{key:"get_seconds",value:function(){return this.seconds}},{key:"get_dayNumber",value:function(){return this.dayNumber}},{key:"get_time",value:function(){return 24*this.get_dayNumber()*3600+3600*this.get_hours()+60*this.get_minutes()+this.get_seconds()}}]),i}(),Day=function(){function t(e,n,s){_classCallCheck(this,t),this.dayName=e,this.lessonAmount=n,this.lessons=s}return _createClass(t,[{key:"get_dayName",value:function(){return this.dayName}},{key:"get_lessonAmount",value:function(){return this.lessonAmount}},{key:"get_lessons",value:function(){return this.lessons}}]),t}(),Lesson=function(){function t(e,n,s){_classCallCheck(this,t),this.name=e,this.startTime=n,this.endTime=s}return _createClass(t,[{key:"get_name",value:function(){return this.name}},{key:"get_startTime",value:function(){return this.startTime}},{key:"get_endTime",value:function(){return this.endTime}}]),t}(),mondayLessons=[new Lesson("Математика",new Time(8,15,0,2),new Time(8,55,0,2)),new Lesson("Химия",new Time(9,5,0,2),new Time(9,45,0,2)),new Lesson("Математика",new Time(10,5,0,2),new Time(10,45,0,2)),new Lesson("Обществознание",new Time(11,0,0,2),new Time(11,40,0,2)),new Lesson("Литература",new Time(11,50,0,2),new Time(12,30,0,2)),new Lesson("Английский язык",new Time(12,40,0,2),new Time(13,20,0,2)),new Lesson("ОБЖ",new Time(13,30,0,2),new Time(14,10,0,2))],tuesdayLessons=[new Lesson("Математика",new Time(8,15,0,3),new Time(8,55,0,3)),new Lesson("Русский язык",new Time(9,5,0,3),new Time(9,45,0,3)),new Lesson("Английский язык",new Time(10,5,0,3),new Time(10,45,0,3)),new Lesson("История",new Time(11,0,0,3),new Time(11,40,0,3)),new Lesson("Литература",new Time(11,50,0,3),new Time(12,30,0,3)),new Lesson("География",new Time(12,40,0,3),new Time(13,20,0,3)),new Lesson("Физика",new Time(13,30,0,3),new Time(14,10,0,3))],wednesdayLessons=[new Lesson("Литература",new Time(9,5,0,4),new Time(9,45,4)),new Lesson("Физкультура",new Time(10,5,4),new Time(10,45,4)),new Lesson("Астрономия",new Time(11,0,4),new Time(11,40,4)),new Lesson("Экономика",new Time(11,50,4),new Time(12,30,4)),new Lesson("Право",new Time(12,40,4),new Time(13,20,4)),new Lesson("Английский язык",new Time(13,30,4),new Time(14,10,4))],thursdayLessons=[new Lesson("Математика",new Time(8,15,5),new Time(8,55,5)),new Lesson("Информатика",new Time(9,5,5),new Time(9,45,5)),new Lesson("Обществознание",new Time(10,5,5),new Time(10,45,5)),new Lesson("Право",new Time(11,0,5),new Time(11,40,5)),new Lesson("Математика",new Time(11,50,5),new Time(12,30,5)),new Lesson("Физкультура",new Time(12,40,5),new Time(13,20,5))],fridayLessons=[new Lesson("Физкультура",new Time(8,15,6),new Time(8,55,6)),new Lesson("Математика",new Time(9,5,6),new Time(9,45,6)),new Lesson("Физика",new Time(10,5,6),new Time(10,45,6)),new Lesson("Родной язык",new Time(11,0,6),new Time(11,40,6)),new Lesson("Экономика",new Time(11,50,6),new Time(12,30,6)),new Lesson("Биология",new Time(12,40,6),new Time(13,20,6)),new Lesson("История",new Time(13,30,6),new Time(14,10,6))],sunday=new Day("Воскресенье",0,[]),monday=new Day("Понедельник",7,mondayLessons),tuesday=new Day("Вторник",7,tuesdayLessons),wednesday=new Day("Среда",6,wednesdayLessons),thursday=new Day("Четверг",6,thursdayLessons),friday=new Day("Пятница",7,fridayLessons),saturday=new Day("Суббота",0,[]),week=[saturday,sunday,monday,tuesday,wednesday,thursday,friday];function zero_first_format(e){return e<10&&(e="0"+e),e}function getWeekDay(e){return week[e.getDay()]}function getDayNumber(e){return dayNumber=week[week.indexOf(e)]}function timeToSeconds(e,n,s,t){return 24*week.indexOf(t)*3600+3600*e+60*n+s}function secondsToTime(e,n){return"seconds"==n?zero_first_format(~~(e%3600%60)).toString():"minutes"==n?zero_first_format(~~(e%3600/60)).toString():"hours"==n?(~~(e/24%3600*24/3600)).toString():"long"==n?(~~(e/24%3600*24/3600)).toString()+":"+zero_first_format(~~(e%3600/60)).toString()+":"+zero_first_format(~~(e%3600%60)).toString():"short"==n?~~(e%3600/60).toString()+":"+zero_first_format(~~(e%3600%60)).toString():void 0}function whatLessonNow(){var e=new Date,n=e.getHours(),s=e.getMinutes(),t=e.getSeconds(),o=getWeekDay(e,week),r=timeToSeconds(n,s,t,o);if(o==saturday|o==sunday)return"Сегодня выходной<br>До уроков: "+estTime("weekend");for(i in o.get_lessons()){if(r>o.get_lessons()[i].get_startTime().get_time()&r<o.get_lessons()[i].get_endTime().get_time())return"Сейчас: "+o.get_lessons()[i].get_name()+"<br> Осталось "+estTime("lesson");if(r+1200>=o.get_lessons()[i].get_startTime().get_time())var m=o.get_lessons()[i].get_name()}return r>=o.get_lessons()[o.get_lessons().length-1].get_endTime().get_time()?"Уроки уже закончились":r<=o.get_lessons()[0].get_startTime().get_time()?"Уроки ещё не начались. <br> Первый урок: "+o.get_lessons()[0].get_name():"Перемена. Cледующий урок: "+m+"<br>До начала урока "+estTime("break")}function whatLesson(){var e=new Date,n=e.getHours(),s=e.getMinutes(),t=e.getSeconds(),i=getWeekDay(e,week),o=timeToSeconds(n,s,t,i);if(i==saturday)return"Weekend";if(i==sunday)return"Weekend";for(var r=0;r<i.get_lessons().length;r++)if(o>=i.get_lessons()[r].get_startTime().get_time()&o<=i.get_lessons()[r].get_endTime().get_time())return i.get_lessons()[r];return o>=i.get_lessons()[i.get_lessons().length-1].get_endTime().get_time()?"End":o<=i.get_lessons()[0].get_startTime().get_time()?"Before":"Break"}for(i in setInterval(function(){document.getElementById("current_status").innerHTML=whatLessonNow()},1e3),document.write('<div class="container">'),document.write('<div class="week">'),week)if(0!=i&1!=i){for(x in document.write('<article class="day">'),document.write('<section class="day-header">',week[i].get_dayName(),"</section>"),week[i].get_lessons())document.write('<section class="lesson-line">'),document.write('<section class="lesson-start-time">',week[i].get_lessons()[x].get_startTime().get_hours(),":",zero_first_format(week[i].get_lessons()[x].get_startTime().get_minutes()),"</section>"),document.write('<section class="lesson-column">'),document.write('<section class="lesson-name">',week[i].get_lessons()[x].get_name(),"</section>"),document.write('<section class="lesson-end-time">',week[i].get_lessons()[x].get_endTime().get_hours(),":",zero_first_format(week[i].get_lessons()[x].get_endTime().get_minutes()),"</section>"),document.write("</section>"),document.write("</section>");document.write("</article>")}function nextLesson(){var e=new Date,n=e.getHours(),s=e.getMinutes(),t=e.getSeconds(),i=getWeekDay(e,week),o=timeToSeconds(n,s,t,i);if(i==saturday)return week[week.indexOf(i)+2].get_lessons()[0];if(i==sunday)return week[week.indexOf(i)+1].get_lessons()[0];for(var r=0;r<i.get_lessons().length;r++){if(o>=i.get_lessons()[r].get_startTime().get_time()&o<=i.get_lessons()[r].get_endTime().get_time())return i.get_lessons()[r+1];if(o+1200>=i.get_lessons()[r].get_startTime().get_time())var m=i.get_lessons()[r]}return o>=i.get_lessons()[i.get_lessons().length-1].get_endTime().get_time()?week[week.indexOf(i)+1].get_lessons()[0]:o<=i.get_lessons()[0].get_startTime().get_time()?i.get_lessons()[0]:m}function estTime(e){var n=new Date,s=timeToSeconds(n.getHours(),n.getMinutes(),n.getSeconds(),getWeekDay(n,week));return"break"==e?secondsToTime(nextLesson().get_startTime().get_time()-s,"short"):"lesson"==e?secondsToTime(whatLesson().get_endTime().get_time()-s,"short"):"weekend"==e?secondsToTime(nextLesson().get_endTime().get_time()-s,"long"):void 0}document.write("</div>"),document.write("</div>");
//# sourceMappingURL=test.min.js.map
