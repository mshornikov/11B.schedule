{"version":3,"sources":["timer.js"],"names":["zero_first_format","value","getWeekDay","date","week","sunday","monday","tuesday","wednesday","thursday","friday","saturday","getDay","getDayNumber","day","dayNumber","indexOf","timeToSeconds","hours","minutes","seconds","time","secondsToTime","length","toString","whatLessonNow","current_datetime","Date","getHours","getMinutes","getSeconds","estTime","i","get_lessons","get_startTime","get_time","get_endTime","get_name","nextLesson","whatLesson","document","getElementById","innerHTML","setInterval","write","get_dayName","x","get_hours","get_minutes","type","est"],"mappings":"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","sourcesContent":["// Function which changing '1' -> '01'\r\nfunction zero_first_format(value) {\r\n    if (value < 10) {\r\n        value='0'+value;\r\n    }\r\n    return value;\r\n}\r\n\r\n// Function which replacing day number to day object ('0' -> saturday)\r\nfunction getWeekDay(date) {    \r\n    var week = [sunday, monday, tuesday, wednesday, thursday, friday, saturday]\r\n\r\n    return week[date.getDay()];\r\n    }\r\n\r\n// Function which replacing day object to day number (saturday -> '0')\r\nfunction getDayNumber(day) {\r\n    return dayNumber = week[week.indexOf(day)];\r\n}\r\n\r\n// Function which convert time from 8:01:01 to 28861 for comparing\r\nfunction timeToSeconds(hours, minutes, seconds, day) {\r\n    var dayNumber = week.indexOf(day);\r\n\r\n    // Converting time from 8:01:01 to 28861 for comparing\r\n    let time = dayNumber * 24 * 3600 + hours * 3600 + minutes * 60 + seconds;\r\n    return time;\r\n}\r\n\r\n\r\n// Function which convert time from 28861 to 8:01:01 for output\r\nfunction secondsToTime(time, length) {\r\n    if (length == 'seconds') {\r\n        return zero_first_format(~~((time % 3600) % 60)).toString();\r\n    }\r\n\r\n    if (length == 'minutes') {\r\n        return zero_first_format(~~((time % 3600) / 60)).toString();\r\n    }\r\n\r\n    if (length == 'hours') {\r\n        return (~~(((time / 24) % 3600 * 24) / 3600)).toString();\r\n    }\r\n\r\n    if (length == 'long') {\r\n        if ((~~(((time / 24) % 3600 * 24) / 3600)) == 0) {\r\n            return ~~((time % 3600) / 60).toString() + ':' + zero_first_format(~~((time % 3600) % 60)).toString();\r\n        }\r\n\r\n        return (~~(((time / 24) % 3600 * 24) / 3600)).toString() + ':' + zero_first_format(~~((time % 3600) / 60)).toString() + ':' + zero_first_format(~~((time % 3600) % 60)).toString();\r\n    }\r\n\r\n    if (length == 'short') {\r\n        return ~~((time % 3600) / 60).toString() + ':' + zero_first_format(~~((time % 3600) % 60)).toString();\r\n    }\r\n}\r\n\r\n// Function whic by current time understands what lesson now\r\nfunction whatLessonNow() {\r\n\r\n    // Current time declaration\r\n    var current_datetime = new Date();\r\n    var hours = current_datetime.getHours();\r\n    var minutes = current_datetime.getMinutes();\r\n    var seconds = current_datetime.getSeconds();\r\n    var day = getWeekDay(current_datetime, week);\r\n\r\n    // Converting time from 8:01:01 to 28861 for comparing\r\n    let time = timeToSeconds(hours, minutes, seconds, day);\r\n\r\n    // Weekend\r\n    if (day == saturday | day == sunday) {\r\n        return 'Сегодня выходной' + '<br>До уроков: ' + estTime('weekend');\r\n    }\r\n\r\n    // Loop which\r\n    for (i in day.get_lessons()){\r\n        if (time >= day.get_lessons()[i].get_startTime().get_time() & time < day.get_lessons()[i].get_endTime().get_time()) {\r\n            return 'Сейчас: ' + day.get_lessons()[i].get_name() + '<br> Осталось ' + estTime('lesson');\r\n        }\r\n        if (time + 1200 >= day.get_lessons()[i].get_startTime().get_time()) {\r\n            var nextLesson = day.get_lessons()[i].get_name();\r\n        }\r\n    }\r\n\r\n\r\n    // Time after lessons ('15:00')\r\n    if (time >= day.get_lessons()[day.get_lessons().length - 1].get_endTime().get_time() ) {\r\n        return 'Уроки уже закончились' + '<br>До уроков: ' + estTime('weekend');\r\n    }\r\n\r\n    // Time before lessons ('8:14')\r\n    if (time <= day.get_lessons()[0].get_startTime().get_time()) {\r\n        return 'Уроки ещё не начались. <br>Первый урок: ' + day.get_lessons()[0].get_name() + '<br>До урока: ' + estTime('weekend');\r\n    }\r\n\r\n\r\n    // Break\r\n    return 'Перемена. Cледующий урок: ' + nextLesson + '<br>До урока ' + estTime('break');\r\n\r\n}\r\n\r\nfunction whatLesson() {\r\n    // Current time declaration\r\n    var current_datetime = new Date();\r\n    var hours = current_datetime.getHours();\r\n    var minutes = current_datetime.getMinutes();\r\n    var seconds = current_datetime.getSeconds();\r\n    var day = getWeekDay(current_datetime, week);\r\n\r\n    // Converting time from 8:01:01 to 28861 for comparing\r\n    let time = timeToSeconds(hours, minutes, seconds, day);\r\n\r\n    // Weekend\r\n    if (day == saturday) {\r\n        return 'Weekend';\r\n    }\r\n\r\n    if (day == sunday) {\r\n        return 'Weekend';\r\n    }\r\n\r\n    // Time after lessons ('15:00')\r\n    if (time >= day.get_lessons()[day.get_lessons().length - 1].get_endTime().get_time() ) {\r\n        return 'End';\r\n    }\r\n\r\n    // Time before lessons ('8:14')\r\n    if (time <= day.get_lessons()[0].get_startTime().get_time()) {\r\n        return 'Before';\r\n    }\r\n\r\n    // Loop which\r\n    for (let i = 0;  i < day.get_lessons().length; i++){\r\n        if (time >= day.get_lessons()[i].get_startTime().get_time() & time < day.get_lessons()[i].get_endTime().get_time()) {\r\n            return day.get_lessons()[i];\r\n        }\r\n    }\r\n    \r\n    // Break\r\n    return 'Break';\r\n}\r\n\r\n// Updating status in header\r\ndocument.getElementById('current_status').innerHTML = whatLessonNow();\r\nsetInterval(function () {\r\n    document.getElementById('current_status').innerHTML = whatLessonNow();\r\n    // document.getElementById('est').innerHTML = estTime('lesson');\r\n}, 1000);\r\n\r\n// Document writing\r\ndocument.write('<div class=\"container\">');\r\ndocument.write('<div class=\"week\">');\r\nfor (i in week) {\r\n    if (i != 0 & i != 1) {\r\n        document.write('<article class=\"day\">');\r\n        document.write('<section class=\"day-header\">', week[i].get_dayName(), '</section>');\r\n        \r\n        for (x in week[i].get_lessons()) {\r\n            document.write('<section class=\"lesson-line\">');\r\n            document.write('<section class=\"lesson-start-time\">', week[i].get_lessons()[x].get_startTime().get_hours(), ':', zero_first_format(week[i].get_lessons()[x].get_startTime().get_minutes()), '</section>');\r\n            document.write('<section class=\"lesson-column\">');\r\n            document.write('<section class=\"lesson-name\">', week[i].get_lessons()[x].get_name(), '</section>');\r\n            document.write('<section class=\"lesson-end-time\">', week[i].get_lessons()[x].get_endTime().get_hours(), ':', zero_first_format(week[i].get_lessons()[x].get_endTime().get_minutes()), '</section>');\r\n            document.write('</section>');\r\n            document.write('</section>');\r\n        }\r\n\r\n        document.write('</article>');\r\n    }\r\n} \r\ndocument.write('</div>');\r\ndocument.write('</div>');\r\n\r\n// Function which understand which lesson is next\r\nfunction nextLesson() {\r\n    // Current time declaration\r\n    var current_datetime = new Date();\r\n    var hours = current_datetime.getHours();\r\n    var minutes = current_datetime.getMinutes();\r\n    var seconds = current_datetime.getSeconds();\r\n    var day = getWeekDay(current_datetime, week);\r\n\r\n    // Converting time from 8:01:01 to 28861 for comparing\r\n    let time = timeToSeconds(hours, minutes, seconds, day);\r\n\r\n    // Weekend\r\n    if (day == saturday) {\r\n        return week[week.indexOf(day) + 2].get_lessons()[0];\r\n    }\r\n\r\n    if (day == sunday) {\r\n        return week[week.indexOf(day) + 1].get_lessons()[0];\r\n    }\r\n\r\n    // Time after lessons ('15:00')\r\n    if (time >= day.get_lessons()[day.get_lessons().length - 1].get_endTime().get_time() ) {\r\n        return week[week.indexOf(day) + 1].get_lessons()[0];\r\n    }\r\n\r\n    // Time before lessons ('8:14')\r\n    if (time <= day.get_lessons()[0].get_startTime().get_time()) {\r\n        return day.get_lessons()[0];\r\n    }\r\n\r\n    // Loop which\r\n    for (let i = 0;  i < day.get_lessons().length; i++){\r\n        if (time >= day.get_lessons()[i].get_startTime().get_time() & time <= day.get_lessons()[i].get_endTime().get_time()) {\r\n            return day.get_lessons()[i+1];\r\n        }\r\n        if (time + 1200 >= day.get_lessons()[i].get_startTime().get_time()) {\r\n            var nextLesson = day.get_lessons()[i];\r\n        }\r\n    }\r\n    \r\n    // Break\r\n    return nextLesson;\r\n}\r\n\r\n// Function which counting estimated time to the next lesson\r\nfunction estTime(type) {\r\n\r\n    // Current time declaration\r\n    var current_datetime = new Date();\r\n    var hours = current_datetime.getHours();\r\n    var minutes = current_datetime.getMinutes();\r\n    var seconds = current_datetime.getSeconds();\r\n    var day = getWeekDay(current_datetime, week);\r\n\r\n    // Converting time from 8:01:01 to 28861 for comparing\r\n    // var time = timeToSeconds(hours, minutes, seconds, day);\r\n    var time = timeToSeconds(hours, minutes, seconds, day);\r\n\r\n    if (type == 'break') {\r\n        let est = nextLesson().get_startTime().get_time();\r\n        return secondsToTime(est - time, 'short');\r\n    }\r\n    if (type == 'lesson') {\r\n        let est = whatLesson().get_endTime().get_time();\r\n\r\n        return secondsToTime(est - time, 'short');\r\n    }\r\n    if (type == 'weekend') {\r\n        let est = nextLesson().get_startTime().get_time();\r\n        return secondsToTime(est - time, 'long');\r\n    }\r\n}"],"file":"timer.dev.js"}