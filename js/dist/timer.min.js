"use strict";function whatLessonNow(e){var t=my_getWeekDay(currentDate(e));if(t==saturday|t==sunday)return"weekend";for(i in t.get_lessons()){var s=t.get_lessons()[i];if(e>=s.get_startTime().get_time()&e<=s.get_endTime().get_time())return s}return e>=t.get_lessons()[t.get_lessons().length-1].get_endTime().get_time()?"after":e+1<=t.get_lessons()[0].get_startTime().get_time()?"before":"break"}function currentStatus(e,t){return"[object Object]"==toString.call(e)?"Сейчас: "+e.get_name()+" "+estTime("lesson",t):"break"==e?"Перемена. Cледующий урок: "+nextLesson(t).get_name()+" До урока "+estTime("break",t):"before"==e?"Уроки ещё не начались. Первый урок: "+nextLesson(t).get_name()+" До урока: "+estTime("before",t):"after"==e?"Уроки уже закончились До уроков: "+estTime("after",t):"weekend"==e?"Сегодня выходной До уроков: "+estTime("before",t):void 0}function nextLesson(e){var t=my_getWeekDay(currentDate(e)),s=getDayNumber(t);if(t==saturday)return week[s+2].get_lessons()[0];if(t==sunday)return week[s+1].get_lessons()[0];if(e>=t.get_lessons()[t.get_lessons().length-1].get_endTime().get_time())return t==friday?week[2].get_lessons()[0]:week[s+1].get_lessons()[0];if(e<=t.get_lessons()[0].get_startTime().get_time())return t.get_lessons()[0];for(var n=0;n<t.get_lessons().length;n++){var r=t.get_lessons()[n];if(e>=r.get_startTime().get_time()&e<=r.get_endTime().get_time())return t==friday&r==t.get_lessons(t.get_lessonAmount()-1)?weel[0].get_lessons()[0]:t.get_lessons()[n+1];if(e+1200>=r.get_startTime().get_time())var i=r}return i}var time=currentTime();function estTime(e,t){var s=my_getWeekDay(currentDate(t));if("break"==e){var n=nextLesson(t).get_startTime().get_time();return secondsToTime(n-t,"short")}if("lesson"==e){var r=whatLessonNow(t).get_endTime().get_time();return secondsToTime(r-t,"short")}if("before"==e){var i=nextLesson(t).get_startTime().get_time();return secondsToTime(i-t,"long")}if("after"==e){var o=nextLesson(t).get_startTime().get_time();return s==friday?secondsToTime(o+timeToSeconds(24,0,0,friday)-t,"long"):secondsToTime(o-t,"long")}}document.getElementById("current_status").innerHTML=currentStatus(whatLessonNow(time),time),setInterval(function(){var e=currentTime();document.getElementById("current_status").innerHTML=currentStatus(whatLessonNow(e),e)},1e3);
//# sourceMappingURL=timer.min.js.map
